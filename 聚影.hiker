海阔视界规则分享，当前分享的是：小程序￥home_rule_v2￥base64://@聚影@eyJsYXN0X2NoYXB0ZXJfcnVsZSI6IiIsInRpdGxlIjoi6IGa5b2xIiwiYXV0aG9yIjoiIiwidXJsIjoiaGlrZXI6Ly9lbXB0eSIsInZlcnNpb24iOjExLCJjb2xfdHlwZSI6Im1vdmllXzMiLCJjbGFzc19uYW1lIjoiIiwidHlwZSI6InZpZGVvIiwiY2xhc3NfdXJsIjoiIiwiYXJlYV9uYW1lIjoiIiwiYXJlYV91cmwiOiIiLCJzb3J0X25hbWUiOiIiLCJ5ZWFyX25hbWUiOiIiLCJzb3J0X3VybCI6IiIsInllYXJfdXJsIjoiIiwiZmluZF9ydWxlIjoianM6XG5sZXQgbG9hY2xjb2RlID0gXCJoaWtlcjovL2ZpbGVzL2RhdGEvXCIrTVlfUlVMRS50aXRsZStcIi9jb2RlL1NyY0p1eWluZy5qc1wiO1xuaWYoY29uZmlnLuiBmuW9sSB8fCBmaWxlRXhpc3QobG9hY2xjb2RlKSl7XG4gICAgdHJ5e1xuICAgICAgICByZXF1aXJlKGNvbmZpZy7ogZrlvbEpO1xuICAgICAgICB5aWppKCk7XG4gICAgfWNhdGNoKGUpe1xuICAgICAgICBsb2coZS5tZXNzYWdlKTtcbiAgICAgICAgdG9hc3QoZS5tZXNzYWdlKTtcbiAgICAgICAgY29uZmlybSh7XG4gICAgICAgICAgICB0aXRsZTon5L6d6LWW5Zyw5Z2A5Yqg6L295aSx6LSlJywgXG4gICAgICAgICAgICBjb250ZW50OifmmK/lkKbph43mlrDojrflj5bkvp3otZbvvJ8nICsgKGZpbGVFeGlzdChsb2FjbGNvZGUpPydcXG7lj5bmtojlj6/liIfkuLrmnKzlnLDkvp3otZblupMnOicnKSwgXG4gICAgICAgICAgICBjb25maXJtOiQudG9TdHJpbmcoKCk9PntcbiAgICAgICAgICAgICAgICBjbGVhckl0ZW0oJ+S+nei1licpO1xuICAgICAgICAgICAgICAgIGluaXRDb25maWcoe+iBmuW9sTonJ30pO1xuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0b2FzdCgn5YG/6K+V5Yi35paw5L6d6LWW5Zyw5Z2AJyk7XG4gICAgICAgICAgICB9KSwgXG4gICAgICAgICAgICBjYW5jZWw6JC50b1N0cmluZygobG9hY2xjb2RlKT0+e1xuICAgICAgICAgICAgICAgIGlmKGZpbGVFeGlzdChsb2FjbGNvZGUpKXtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlybSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTon5Y+R546w5pys5Zyw5L6d6LWW5bqTJywgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OifmmK/lkKbliIfmjaLotbDmnKzlnLDkvp3otZblupPvvJ8nLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpcm06JC50b1N0cmluZygobG9hY2xjb2RlKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oJ+acrOWcsOS+nei1luW6kycsJzEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0Q29uZmlnKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg6IGa5b2xOiBsb2FjbGNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxsb2FjbGNvZGUpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbmNlbDokLnRvU3RyaW5nKCgpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3QoJ+mHjei/m+aIluaNoue9keWGjeivleS4gOasoScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LGxvYWNsY29kZSlcbiAgICAgICAgfSlcbiAgICB9XG59ZWxzZXtcbiAgICAkLnJlcXVpcmUoJ2docHJveHknKS5wcm94eVBhZ2UoKTtcbn0iLCJzZWFyY2hfdXJsIjoiaGlrZXI6Ly9lbXB0eSMjKiojI2Z5cGFnZSIsImdyb3VwIjoi4pGg5o6o6I2QIiwic2VhcmNoRmluZCI6ImpzOlxucmVxdWlyZShjb25maWcu6IGa5b2xKTtcbnNvdXN1bygpIiwiZGV0YWlsX2NvbF90eXBlIjoibW92aWVfMyIsImRldGFpbF9maW5kX3J1bGUiOiIiLCJzZGV0YWlsX2NvbF90eXBlIjoibW92aWVfMSIsInNkZXRhaWxfZmluZF9ydWxlIjoiKiIsInVhIjoicGMiLCJwcmVSdWxlIjoiLyo8JD5cbkBpbmNsdWRlIHN0YXJ0XG5pbXBvcnRHTVxuQGluY2x1ZGUgZW5kXG48JD4qL1xuXG5pZiAoIWNvbmZpZy7ogZrlvbEpIHtcbiAgICBsZXQgc3JjSG9tZSA9IGdldEl0ZW0oJ+S+nei1licsICcnKTtcbiAgICBpZiAoIXNyY0hvbWUpIHtcbiAgICAgICAgLy/ov5znqIvkvp3otZbntKLlvJXmlofku7bku6PnkIblnLDlnYDliJfooahcbiAgICAgICAgbGV0IGdocHJveHkgPSAkLnJlcXVpcmUoJ2docHJveHknKS5nZXRwcm94eSgpO1xuICAgICAgICBpZihnaHByb3h5Lmxlbmd0aD09MCl7XG4gICAgICAgICAgICBnaHByb3h5LnB1c2goXCJcIik7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnaHByb3h5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0cnkgeyAvL+i/nOeoi+S+nei1lue0ouW8lVxuICAgICAgICAgICAgICAgIHJlcXVpcmUoZ2hwcm94eVtpXSArICdodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vc3JjNDg1OTc5NjIvaGsvbWFzdGVyL0p5UmVxdWlyZS5qcycsIHtcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dDogMzAwMFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyZWx5ZmlsZSkge1xuICAgICAgICAgICAgICAgICAgICBzcmNIb21lID0gcmVseWZpbGUuaW5jbHVkZXMoJ3Jhdy5naXRodWInKSA/IGdocHJveHlbaV0gKyByZWx5ZmlsZSA6IHJlbHlmaWxlO1xuICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCfkvp3otZYnLCBzcmNIb21lKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICQucmVxdWlyZSgnZ2hwcm94eScpLnNldHByb3h5KGdocHJveHlbaV0sIDApO1xuICAgICAgICAgICAgICAgIGxvZyhlLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBsb2FjbGNvZGUgPSBcImhpa2VyOi8vZmlsZXMvZGF0YS9cIitNWV9SVUxFLnRpdGxlK1wiL2NvZGUvU3JjSnV5aW5nLmpzXCI7XG4gICAgaWYoZ2V0SXRlbSgn5pys5Zyw5L6d6LWW5bqTJyk9PVwiMVwiICYmIGZpbGVFeGlzdChsb2FjbGNvZGUpKXtcbiAgICAgICAgc3JjSG9tZSA9IGxvYWNsY29kZTtcbiAgICB9XG4gICAgaW5pdENvbmZpZyh7XG4gICAgICAgIOS+nei1ljogc3JjSG9tZSxcbiAgICAgICAg6IGa5b2xOiBzcmNIb21lXG4gICAgfSk7XG4gICAgc2V0UHVibGljSXRlbSgn6IGa5b2xJywgc3JjSG9tZSk7XG59XG4vL2J5LuW4heKImmDkurrmiY0iLCJwYWdlcyI6Ilt7XCJjb2xfdHlwZVwiOlwibW92aWVfM1wiLFwibmFtZVwiOlwi6YWN572u5Y+C5pWwXCIsXCJwYXRoXCI6XCJjb25maWdcIixcInJ1bGVcIjpcImpzOlxcbiQuZXhwb3J0cy52ZXJzaW9uID0gMTE7XFxuJC5leHBvcnRzLuS+nei1liA9IGdldEl0ZW0oJ+S+nei1licsICdodHRwczovL3Jhdy5naXRjb2RlLmNvbS9zcmM0ODU5Nzk2Mi9qdXlpbmcvcmF3L21hc3Rlci9TcmNKdXlpbmcuanMnKTtcIn0se1wiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcIm5hbWVcIjpcIuS6keWPo+S7pOWvvOWFpVwiLFwicGF0aFwiOlwiaW1wb3J0XCIsXCJydWxlXCI6XCJqczpcXG5mdW5jdGlvbiBjbG91ZGltcG9ydCgpIHtcXG4gICAgbGV0IEpZQ29kZSA9IGZldGNoKFxcXCJoaWtlcjovL2hvbWVA6IGa5b2xXFxcIik7XFxuICAgIGlmIChKWUNvZGUpIHtcXG4gICAgICAgIHdyaXRlRmlsZShcXFwiaGlrZXI6Ly9maWxlcy9fY2FjaGUvanV5aW5nMi9jbG91ZGltcG9ydC50eHRcXFwiLCBpbnB1dCk7XFxuICAgICAgICByZXR1cm4gXFxcImhpa2VyOi8vcGFnZS9pbXBvcnRDb25maXJtI2Z1bGxUaGVtZSMjbm9SZWNvcmRIaXN0b3J5IyNub0hpc3RvcnkjP3J1bGU96IGa5b2xXFxcIlxcbiAgICB9IGVsc2Uge1xcbiAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL+ayoeacieiBmuW9seWwj+eoi+W6j++8jOimgeaYr+aWsOeJiOWTplxcXCI7XFxuICAgIH1cXG59XFxuJC5leHBvcnRzID0gY2xvdWRpbXBvcnQoKTtcIn0se1wiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcIm5hbWVcIjpcIuS7o+eQhueuoeeQhlwiLFwicGF0aFwiOlwiZ2hwcm94eVwiLFwicnVsZVwiOlwianM6XFxubGV0IGNmZ2ZpbGUgPSBcXFwiaGlrZXI6Ly9maWxlcy9ydWxlcy9TcmMvSnV5aW5nMi9jb25maWcuanNvblxcXCI7XFxubGV0IEp1Y29uZmlnID0ge307XFxubGV0IEp1Y2ZnID0gZmV0Y2goY2ZnZmlsZSk7XFxuaWYgKEp1Y2ZnICE9IFxcXCJcXFwiKSB7XFxuICAgIGV2YWwoXFxcIkp1Y29uZmlnPVxcXCIgKyBKdWNmZyArIFxcXCI7XFxcIik7XFxufVxcbmxldCBwcm94eWxpc3QgPSBKdWNvbmZpZ1snZ2hwcm94eSddIHx8IFtdO1xcblxcbmZ1bmN0aW9uIGdldHByb3h5KCkge1xcbiAgICByZXR1cm4gcHJveHlsaXN0LmZpbHRlcih2ID0+ICF2LnN0b3ApLm1hcChpdCA9PiBpdC51cmwpO1xcbn1cXG5cXG5mdW5jdGlvbiBzZXRwcm94eShpbnB1dCwgenQpIHtcXG4gICAgaW5wdXQgPSBpbnB1dC50cmltKCk7XFxuICAgIGlmIChpbnB1dCkge1xcbiAgICAgICAgbGV0IGluZGV4ID0gcHJveHlsaXN0LmZpbmRJbmRleChpdCA9PiBpdC51cmwgPT0gaW5wdXQpO1xcbiAgICAgICAgaWYgKGluZGV4ID09IC0xKSB7XFxuICAgICAgICAgICAgcHJveHlsaXN0LnB1c2goe1xcbiAgICAgICAgICAgICAgICB1cmw6IGlucHV0XFxuICAgICAgICAgICAgfSk7XFxuICAgICAgICB9IGVsc2UgaWYgKHp0ID09IDEpIHtcXG4gICAgICAgICAgICBkZWxldGUgcHJveHlsaXN0W2luZGV4XS5zdG9wO1xcbiAgICAgICAgfSBlbHNlIGlmICh6dCA9PSAwKSB7XFxuICAgICAgICAgICAgcHJveHlsaXN0W2luZGV4XS5zdG9wID0gMTtcXG4gICAgICAgIH0gZWxzZSBpZiAoenQgPT0gMikge1xcbiAgICAgICAgICAgIHByb3h5bGlzdCA9IHByb3h5bGlzdC5maWx0ZXIodiA9PiB2LnVybCAhPSBpbnB1dCk7XFxuICAgICAgICB9XFxuICAgICAgICBKdWNvbmZpZ1snZ2hwcm94eSddID0gcHJveHlsaXN0O1xcbiAgICAgICAgd3JpdGVGaWxlKGNmZ2ZpbGUsIEpTT04uc3RyaW5naWZ5KEp1Y29uZmlnKSk7XFxuICAgIH1cXG59XFxuXFxuZnVuY3Rpb24gcHJveHlQYWdlKCkge1xcbiAgICBzZXRQYWdlVGl0bGUoJ+WQr+WKqOS7o+eQhueuoeeQhicpO1xcbiAgICBsZXQgZCA9IFtdO1xcbiAgICBkLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IGdldHByb3h5KCkubGVuZ3RoPT0wPyfpnIDopoFnaXRodWLku6PnkIbmnaXojrflj5bku6PnoIHvvIzngrnlh7vmnaXkuKrkvovlrZAnOifpgInmi6nku6PnoIHlupPojrflj5bmlrnlvI8nLFxcbiAgICAgICAgZGVzYzogJ+acieS7o+eQhu+8micgKyBwcm94eWxpc3QubGVuZ3RoICsgJ++8jOacieaViOeahO+8micgKyBnZXRwcm94eSgpLmxlbmd0aCxcXG4gICAgICAgIHVybDogZ2V0cHJveHkoKS5sZW5ndGg9PTA/JChcXFwiI25vTG9hZGluZyNcXFwiKS5sYXp5UnVsZSgoKSA9PiB7XFxuICAgICAgICAgICAgZXZhbChyYyhnZXRJdGVtKCfkvp3otZYnLCAnaHR0cHM6Ly9yYXcuZ2l0Y29kZS5jb20vc3JjNDg1OTc5NjIvanV5aW5nL3Jhdy9tYXN0ZXIvcGx1Z2lucy9naHByb3h5LmpzJyksMjQpKTtcXG4gICAgICAgICAgICBsZXQgZ2hwcm94eSA9IGdldHByb3h5KHByb3h5cyk7XFxuICAgICAgICAgICAgaWYoZ2hwcm94eSl7XFxuICAgICAgICAgICAgICAgIHB1dE15VmFyKCdnZXRfZ2hwcm94eScsZ2hwcm94eSk7XFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+adpeS6hu+8jOeCuea3u+WKoOWQpyc7XFxuICAgICAgICAgICAgfWVsc2V7XFxuICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/miYvlt6XloavlhpnlpoLvvJpodHRwczovL2docHJveHkubmV0Lyc7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSk6JChbJ+aWueW8j+S4gO+8muiHquWKqOiOt+WPluS7o+eggeW6kycsJ+aWueW8j+S6jO+8muaJi+W3peaMh+WumuS7o+eggeW6kycsJ+aWueW8j+S4ie+8muS4i+i9veacrOWcsOS7o+eggeW6kyddLCAxLCAn5oyH5a6a6IGa5b2x5Luj56CB6I635Y+W5pa55byPJykuc2VsZWN0KCgpID0+IHtcXG4gICAgICAgICAgICBpZihNWV9JTkRFWD09MCl7XFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly/mt7vliqDlrozmnInmlYjnmoRnaXRodWLliqDpgJ/ku6PnkIblkI7ov5Tlm57liLfmlrBcXFwiO1xcbiAgICAgICAgICAgIH1lbHNlIGlmKE1ZX0lOREVYPT0wKXtcXG4gICAgICAgICAgICAgICAgcmV0dXJuICQoZ2V0SXRlbSgn5L6d6LWWJywgJycpLCBcXFwi5oyH5a6a6IGa5b2x5Luj56CB5LuT5Zyw5Z2AXFxcIikuaW5wdXQoKCkgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQgPSBpbnB1dC5yZXBsYWNlKC9cXFxccysvZywgJycpO1xcbiAgICAgICAgICAgICAgICAgICAgaWYoIWlucHV0LnN0YXJ0c1dpdGgoJ2h0dHAnKSl7XFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL+i+k+WFpeacieivr1xcXCI7XFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCfkvp3otZYnLCBpbnB1dCk7XFxuICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZSgpO1xcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL+W3suiuvue9rlxcXCI7XFxuICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgfWVsc2V7XFxuICAgICAgICAgICAgICAgIHRvYXN0KFxcXCLov5vlhaXkuIvovb3pk77mjqXvvIzlr7zlhaXlrozmiJDlkI7ov5Tlm57liLfmlrBcXFwiKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJ3ZWI6Ly9odHRwczovL3NyYzQ4NTk3OTYyLmxhbnpvdW8uY29tL2k0VGkxMmU2MGxzaFxcXCI7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSksXFxuICAgICAgICBjb2xfdHlwZTogXFxcInRleHRfMVxcXCJcXG4gICAgfSk7XFxuICAgIGQucHVzaCh7XFxuICAgICAgICB0aXRsZTogJ+a3u+WKoCcsXFxuICAgICAgICBjb2xfdHlwZTogJ2lucHV0JyxcXG4gICAgICAgIGRlc2M6ICfovpPlhaVnaXRodWLliqDpgJ/ku6PnkIblnLDlnYAnLFxcbiAgICAgICAgdXJsOiAkLnRvU3RyaW5nKCgpID0+IHtcXG4gICAgICAgICAgICBjbGVhck15VmFyKCdnZXRfZ2hwcm94eScpO1xcbiAgICAgICAgICAgIGlucHV0ID0gaW5wdXQudHJpbSgpO1xcbiAgICAgICAgICAgIGlmKGlucHV0ICYmIGlucHV0LmluY2x1ZGVzKFxcXCIvaHR0cHNcXFwiKSl7XFxuICAgICAgICAgICAgICAgIGlucHV0ID0gaW5wdXQuc3BsaXQoXFxcIi9odHRwXFxcIilbMF0gKyBcXFwiL1xcXCI7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGlmICghaW5wdXQuc3RhcnRzV2l0aCgnaHR0cCcpIHx8IGlucHV0LmluY2x1ZGVzKFxcXCJnaXRodWJ1c2VyY29udGVudC5jb21cXFwiKSB8fCAhaW5wdXQuZW5kc1dpdGgoXFxcIi9cXFwiKSkge1xcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcInRvYXN0Oi8v6L6T5YWl6ZSZ6K+v77yM6K+36L6T5YWl5q2j56Gu55qEZ2l0aHVi5Yqg6YCf5Luj55CGXFxcIjtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgJC5yZXF1aXJlKCdnaHByb3h5Jykuc2V0cHJveHkoaW5wdXQpO1xcbiAgICAgICAgICAgIHJlZnJlc2hQYWdlKCk7XFxuICAgICAgICAgICAgcmV0dXJuIFxcXCJoaWtlcjovL2VtcHR5XFxcIjtcXG4gICAgICAgIH0pLFxcbiAgICAgICAgZXh0cmE6IHtcXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGdldE15VmFyKCdnZXRfZ2hwcm94eScsJycpLFxcbiAgICAgICAgICAgIHRpdGxlVmlzaWJsZTogdHJ1ZVxcbiAgICAgICAgfVxcbiAgICB9KTtcXG4gICAgZC5wdXNoKHtcXG4gICAgICAgIGNvbF90eXBlOiBcXFwibGluZVxcXCJcXG4gICAgfSk7XFxuICAgIHByb3h5bGlzdC5yZXZlcnNlKCk7XFxuICAgIHByb3h5bGlzdC5mb3JFYWNoKGl0ID0+IHtcXG4gICAgICAgIGQucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6IGl0LnN0b3AgPyAn4oCY4oCY4oCZ4oCZPGZvbnQgY29sb3I9XFxcIiNmMjBjMDBcXFwiPicgKyBpdC51cmwgKyAnPC9mb250PicgOiBpdC51cmwsXFxuICAgICAgICAgICAgdXJsOiAkKFtpdC5zdG9wID8gXFxcIuWQr+eUqFxcXCIgOiBcXFwi5YGc55SoXFxcIiwgXFxcIuWIoOmZpFxcXCIsIFxcXCLlpI3liLZcXFwiLFxcXCLmo4DmtYtcXFwiXSwgMSwgXFxcIlxcXCIpLnNlbGVjdCgodXJsKSA9PiB7XFxuICAgICAgICAgICAgICAgIGlmIChpbnB1dCA9PSBcXFwi5ZCv55SoXFxcIikge1xcbiAgICAgICAgICAgICAgICAgICAgJC5yZXF1aXJlKCdnaHByb3h5Jykuc2V0cHJveHkodXJsLCAxKTtcXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSBcXFwi5YGc55SoXFxcIikge1xcbiAgICAgICAgICAgICAgICAgICAgJC5yZXF1aXJlKCdnaHByb3h5Jykuc2V0cHJveHkodXJsLCAwKTtcXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSBcXFwi5Yig6ZmkXFxcIikge1xcbiAgICAgICAgICAgICAgICAgICAgJC5yZXF1aXJlKCdnaHByb3h5Jykuc2V0cHJveHkodXJsLCAyKTtcXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSBcXFwi5aSN5Yi2XFxcIikge1xcbiAgICAgICAgICAgICAgICAgICAgY29weSh1cmwpO1xcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJoaWtlcjovL2VtcHR5XFxcIjtcXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dCA9PSBcXFwi5qOA5rWLXFxcIikge1xcbiAgICAgICAgICAgICAgICAgICAgZXZhbChyYyhnZXRJdGVtKCfkvp3otZYnLCAnaHR0cHM6Ly9yYXcuZ2l0Y29kZS5jb20vc3JjNDg1OTc5NjIvanV5aW5nL3Jhdy9tYXN0ZXIvcGx1Z2lucy9naHByb3h5LmpzJyksMjQpKTtcXG4gICAgICAgICAgICAgICAgICAgIGxldCBnaHByb3h5ID0gZ2V0cHJveHkoW3VybF0pO1xcbiAgICAgICAgICAgICAgICAgICAgaWYoZ2hwcm94eSl7XFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+aIkOWKnyc7XFxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5aSx6LSlJztcXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFwiaGlrZXI6Ly9lbXB0eVxcXCI7XFxuICAgICAgICAgICAgfSwgaXQudXJsKSxcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcInRleHRfMVxcXCIsXFxuICAgICAgICAgICAgZXh0cmE6IHtcXG4gICAgICAgICAgICAgICAgaWQ6IGl0LnVybFxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0pO1xcbiAgICB9KVxcbiAgICBzZXRSZXN1bHQoZCk7XFxufVxcbiQuZXhwb3J0cyA9IHtcXG4gICAgZ2V0cHJveHk6IGdldHByb3h5LFxcbiAgICBzZXRwcm94eTogc2V0cHJveHksXFxuICAgIHByb3h5UGFnZTogcHJveHlQYWdlXFxufTtcIn0se1wiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcIm5hbWVcIjpcIuWvvOWFpeehruiupOmhtVwiLFwicGF0aFwiOlwiaW1wb3J0Q29uZmlybVwiLFwicnVsZVwiOlwianM6XFxubGV0IHNyY0hvbWUgPSBnZXRQdWJsaWNJdGVtKCfogZrlvbEnLCcnKTtcXG5pZighc3JjSG9tZSl7XFxuICAgIGV2YWwoSlNPTi5wYXJzZShmZXRjaChcXFwiaGlrZXI6Ly9ob21lQOiBmuW9sVxcXCIpKS5wcmVSdWxlKTtcXG4gICAgc3JjSG9tZSA9IGNvbmZpZy7ogZrlvbE7XFxufVxcblxcbmxldCBleHRmaWxlID0gZ2V0UGFyYW0oXFxcImV4dGZpbGVcXFwiLFxcXCJcXFwiKTtcXG5yZXF1aXJlKHNyY0hvbWUucmVwbGFjZSgvW14vXSokLywnJykgKyAnU3JjSnlTZXQuanMnKTtcXG5pbXBvcnRDb25maXJtKGV4dGZpbGUpO1wifSx7XCJjb2xfdHlwZVwiOlwibW92aWVfM1wiLFwibmFtZVwiOlwiaW50ZW50I2pzI1wiLFwicGF0aFwiOlwiaW50ZW50XCIsXCJydWxlXCI6XCJqczpcXG5mdW5jdGlvbiBqc2ltcG9ydCgpIHtcXG4gICAgcmV0dXJuIFxcXCJoaWtlcjovL3BhZ2UvaW1wb3J0Q29uZmlybSNmdWxsVGhlbWUjI25vUmVjb3JkSGlzdG9yeSMjbm9IaXN0b3J5Iz9leHRmaWxlPVxcXCIgKyBpbnB1dDtcXG59XFxuJC5leHBvcnRzID0ganNpbXBvcnQoKTtcIn0se1wiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcIm5hbWVcIjpcImltcG9ydEdNXCIsXCJwYXRoXCI6XCJpbXBvcnRHTVwiLFwicnVsZVwiOlwibGV0IGcgPSAkLnJlcXVpcmUoJ2NvbmZpZycpLuS+nei1ljtcXG5sZXQgbSA9IGcucmVwbGFjZSgvW14vXSokLywnJykgKyBcXFwicGx1Z2lucy9nbG9iYWxtYXAuanNcXFwiO1xcbiQuaW1wb3J0UmVxdWlyZShtKVwifSx7XCJjb2xfdHlwZVwiOlwibW92aWVfM1wiLFwibmFtZVwiOlwi6IGa5b2x6Kej5p6QXCIsXCJwYXRoXCI6XCJwYXJzZVVybFwiLFwicnVsZVwiOlwiZnVuY3Rpb24gYXl0bVBhcnNlKGlucHV0KSB7XFxuICAgIGxldCBzcmNIb21lID0gZ2V0UHVibGljSXRlbSgn6IGa5b2xJywgJycpO1xcbiAgICBpZiAoIXNyY0hvbWUpIHtcXG4gICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly/pnIDopoHlhYjlr7zlhaXogZrlvbHmlrDniYjmnKzlubbmiZPlvIDkuIDmrKFcXFwiO1xcbiAgICB9XFxuICAgIHJlcXVpcmUoc3JjSG9tZS5yZXBsYWNlKC9bXi9dKiQvLCAnJykgKyAnU3JjUGFyc2VTLmpzJyk7XFxuICAgIGxvZyhcXFwi6IGa5b2x6Kej5p6Q5byA5aeLPj4+XFxcIik7XFxuICAgIGxldCBwbGF5VXJsID0gU3JjUGFyc2VTLuiBmuW9sShpbnB1dCk7XFxuICAgIGxvZyhcXFwi6IGa5b2x6Kej5p6Q57uT5p2fPj4+XFxcIik7XFxuICAgIHJldHVybiBwbGF5VXJsO1xcbn1cXG5sZXQgbG9va1NldCA9ICQoXFxcIiNub0xvYWRpbmcjXFxcIikubGF6eVJ1bGUoKCkgPT4ge1xcbiAgICBsZXQgc3JjSG9tZSA9IGdldFB1YmxpY0l0ZW0oJ+iBmuW9sScsICcnKTtcXG4gICAgaWYgKCFzcmNIb21lKSB7XFxuICAgICAgICByZXR1cm4gXFxcInRvYXN0Oi8v6ZyA6KaB5YWI5a+85YWl6IGa5b2x5paw54mI5pys5bm25omT5byA5LiA5qyhXFxcIjtcXG4gICAgfVxcbiAgICByZXF1aXJlKHNyY0hvbWUucmVwbGFjZSgvW14vXSokLywgJycpICsgJ1NyY0p5UHVibGljLmpzJyk7XFxuICAgIHJldHVybiAkKCdoaWtlcjovL2VtcHR5I25vUmVjb3JkSGlzdG9yeSMjbm9IaXN0b3J5IycpLnJ1bGUoKHNyY0hvbWUpID0+IHtcXG4gICAgICAgIHJlcXVpcmUoc3JjSG9tZS5yZXBsYWNlKC9bXi9dKiQvLCAnJykgKyAnU3JjSnlNZW51LmpzJyk7XFxuICAgICAgICBsb29rc2V0KCk7XFxuICAgIH0sc3JjSG9tZSlcXG59KVxcblxcbiQuZXhwb3J0cy7op6PmnpAgPSBheXRtUGFyc2U7XFxuJC5leHBvcnRzLuiuvue9riA9IGxvb2tTZXQ7XCJ9XSIsImljb24iOiJoaWtlcjovL2ZpbGVzL2NhY2hlL3NyYy/ogZrlvbEucG5nIiwicHJveHkiOiIifQ==